{"version":3,"sources":["webpack:///./src/views/user/Login.vue?ab78","webpack:///src/views/user/Login.vue","webpack:///./src/views/user/Login.vue?acc0","webpack:///./src/views/user/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","model","value","callback","$$v","valid","expression","attrs","_v","alertType","alert","_s","alertMsg","rules","required","username","password","length","show","on","$event","type","indexOf","_k","keyCode","key","submit","apply","arguments","register","staticRenderFns","metaInfo","data","menu","mounted","localStorage","token","$router","push","methods","component","VAlert","VBtn","VCard","VCardActions","VCardText","VCardTitle","VDivider","VForm","VMain","VSpacer","VTextField"],"mappings":"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","file":"static/js/chunk-2d213307.894abfde.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-main',{staticClass:\"ma-16\"},[_c('v-form',{model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"flat\":\"\",\"width\":\"450px\"}},[_c('v-card-title',[_vm._v(\" 登录 \")]),_c('v-divider'),_c('v-alert',{attrs:{\"dismissible\":\"\",\"transition\":\"scale-transition\",\"type\":_vm.alertType,\"value\":_vm.alert}},[_vm._v(\" \"+_vm._s(_vm.alertMsg)+\" \")]),_c('v-card-text',[_c('v-text-field',{attrs:{\"rules\":[_vm.rules.required],\"label\":\"用户名\",\"persistent-hint\":\"\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('v-text-field',{attrs:{\"rules\":[\n            _vm.rules.required,\n            function () { return (!!_vm.password && _vm.password.length >= 8) || '密码不可小于 8 位'; } ],\"label\":\"密码\",\"clearable\":\"\",\"append-icon\":_vm.show ? 'mdi-eye' : 'mdi-eye-off',\"type\":_vm.show ? 'text' : 'password',\"counter\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit.apply(null, arguments)},\"click:append\":function($event){_vm.show = !_vm.show}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"mr-4\",on:{\"click\":_vm.register}},[_vm._v(\" 注 册 \")]),_c('v-btn',{staticClass:\"mr-4\",attrs:{\"disabled\":!_vm.valid,\"color\":\"success\"},on:{\"click\":_vm.submit}},[_vm._v(\" 登 录 \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-main class=\"ma-16\">\n    <v-form v-model=\"valid\">\n      <v-card flat class=\"mx-auto\" width=\"450px\">\n        <v-card-title> 登录 </v-card-title>\n        <v-divider></v-divider>\n        <v-alert\n          dismissible\n          transition=\"scale-transition\"\n          :type=\"alertType\"\n          :value=\"alert\"\n        >\n          {{ alertMsg }}\n        </v-alert>\n        <v-card-text>\n          <v-text-field\n            v-model=\"username\"\n            :rules=\"[rules.required]\"\n            label=\"用户名\"\n            persistent-hint\n          ></v-text-field>\n\n          <v-text-field\n            v-model=\"password\"\n            :rules=\"[\n              rules.required,\n              () => (!!password && password.length >= 8) || '密码不可小于 8 位',\n            ]\"\n            label=\"密码\"\n            clearable\n            :append-icon=\"show ? 'mdi-eye' : 'mdi-eye-off'\"\n            :type=\"show ? 'text' : 'password'\"\n            counter\n            @keyup.enter=\"submit\"\n            @click:append=\"show = !show\"\n          ></v-text-field>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn class=\"mr-4\" @click=\"register\"> 注 册 </v-btn>\n          <v-btn\n            :disabled=\"!valid\"\n            class=\"mr-4\"\n            color=\"success\"\n            @click=\"submit\"\n          >\n            登 录\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-form>\n  </v-main>\n</template>\n\n<script>\nimport { login } from \"@/utils/api\";\nexport default {\n  metaInfo: { title: \"登录\" },\n  data() {\n    return {\n      valid: false,\n      menu: false,\n      show: false,\n      alert: false,\n      username: \"\",\n      password: \"\",\n      rules: {\n        required: (value) => !!value || \"不可为空\",\n        password: (value) => value.length >= 8 || \"密码不可小于 8 位\",\n      },\n    };\n  },\n  mounted: function () {\n    if (localStorage.token) {\n      this.alert = true;\n      this.alertType = \"success\";\n      this.alertMsg = \"账号已登录, 返回首页..\";\n      this.$router.push(\"/\");\n    }\n  },\n  methods: {\n    async submit() {\n      var reqData = {};\n      reqData.username = this.username;\n      reqData.password = this.password;\n      await login(reqData).then((res) => {\n        if (res.code !== 200) {\n          this.alert = false;\n          this.alert = true;\n          console.log( res.message)\n          this.alertType = \"warning\";\n          this.alertMsg = res.message;\n        } else {\n          this.datas = res.data;\n          localStorage.setItem(\"token\", this.datas.token);\n          localStorage.setItem(\"username\", this.datas.username);\n          this.alert = true;\n          this.alertType = \"success\";\n          this.alertMsg = \"登录成功!\";\n          this.$router.push(\"/\");\n        }\n      });\n    },\n    register() {\n      this.$router.push({ path: \"/register\" });\n    },\n  },\n};\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=0f79754e&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardText,VCardTitle,VDivider,VForm,VMain,VSpacer,VTextField})\n"],"sourceRoot":""}